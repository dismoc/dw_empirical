etable(ta, dict = dict1,
title = 'OLS Estimation of Log DW Borrowing. Columns correspond to the same shares as Table 1. ',
label = 'main_reg',
headers = NA,
digits = 5,
fitstat = ~n + r2,
group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores','CI','C&I','COVID','Assets','OFFICES','age','Tier')),
#extralines = list('Pooled','Pooled','Large Banks', 'Large Banks','Small Banks','Small Banks'),
tex = F)
sft <- subset(sf3, dwsores > 0.01 & pppsores > 0.05)
ta[[1]] <- feols(dwsores ~ pppsores|FED + Date,
sft,
#subset = sf3$PPP>0 & sf3$DW > 0
panel.id = c('RSSD','Date'))
ta[[2]] <- update(ta[[1]], . ~ .
+ LF_30 + precovdw + log(OFFICES) + rsa + eqcaprat + eci +  ci_com + scisoa + cdep + cisoa + liqass + levrat + size +log(dwage) + covexpo)
ta[[3]] <- update(ta[[1]], subset =  sft$bigsmall == 1)
ta[[4]] <- update(ta[[2]], subset =  sft$bigsmall == 1)
ta[[5]] <- update(ta[[1]], subset =  sft$bigsmall == 0)
ta[[6]] <- update(ta[[2]], subset =  sft$bigsmall == 0)
etable(ta, dict = dict1,
title = 'OLS Estimation of Log DW Borrowing. Columns correspond to the same shares as Table 1. ',
label = 'main_reg',
headers = NA,
digits = 5,
fitstat = ~n + r2,
group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores','CI','C&I','COVID','Assets','OFFICES','age','Tier')),
#extralines = list('Pooled','Pooled','Large Banks', 'Large Banks','Small Banks','Small Banks'),
tex = F)
sft <- subset(sf3, dwsores > 0.01 & pppsores > 0.01)
ta[[1]] <- feols(dwsores ~ pppsores|FED + Date,
sft,
#subset = sf3$PPP>0 & sf3$DW > 0
panel.id = c('RSSD','Date'))
ta[[2]] <- update(ta[[1]], . ~ .
+ LF_30 + precovdw + log(OFFICES) + rsa + eqcaprat + eci +  ci_com + scisoa + cdep + cisoa + liqass + levrat + size +log(dwage) + covexpo)
ta[[3]] <- update(ta[[1]], subset =  sft$bigsmall == 1)
ta[[4]] <- update(ta[[2]], subset =  sft$bigsmall == 1)
ta[[5]] <- update(ta[[1]], subset =  sft$bigsmall == 0)
ta[[6]] <- update(ta[[2]], subset =  sft$bigsmall == 0)
etable(ta, dict = dict1,
title = 'OLS Estimation of Log DW Borrowing. Columns correspond to the same shares as Table 1. ',
label = 'main_reg',
headers = NA,
digits = 5,
fitstat = ~n + r2,
group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores','CI','C&I','COVID','Assets','OFFICES','age','Tier')),
#extralines = list('Pooled','Pooled','Large Banks', 'Large Banks','Small Banks','Small Banks'),
tex = F)
# Bins of bank shock to reserves and the share of banks that borrow from DW in that bin ----
plot1 <- subset(sf3, pppsores > 0.01)
plot1 <- plot1[,c('pppsores','dwbin_notest','size')]
plot1 <- plot1 %>% arrange(pppsores) %>% mutate(bin = ntile(pppsores, n=10), bin2 = ntile(size, n=10))
temp <- plot1 %>% group_by(bin2) %>% count()
plot1 <- left_join(plot1, temp)
plot1 <- left_join(aggregate(dwbin_notest ~ bin2, plot1, sum), temp)
plot1$dwshare <- plot1$dwbin_notest*100/plot1$n
ggplot(plot1, aes(x=as.factor(bin2), y=dwshare)) + geom_col() +
xlab('Bank Size Binned') + ylab('Share of Banks accesing DW') +
scale_y_continuous(labels = label_number(suffix = "%"))
#scale_x_binned()
sf3$pppsores <- ifelse(sf3$pppsores < .01,0,sf3$pppsores)
ta2 <- list()
ta2[[1]] <- feols(dwbin_notest ~ pppsores| FED + Date,
#family = binomial(link = "logit"),
data = sf3, panel.id = c('RSSD','Date'))
ta2[[2]] <- update(ta2[[1]], . ~.
+ LF_30 + precovdw + log(OFFICES) + rsa + eqcaprat + eci +  ci_com + scisoa + cdep + cisoa + liqass + levrat + size +log(dwage) + covexpo)
ta2[[3]] <- update(ta2[[1]], subset = sf3$bigsmall == 1)
ta2[[4]] <- update(ta2[[2]], subset = sf3$bigsmall == 1)
ta2[[5]] <- update(ta2[[1]], subset = sf3$bigsmall == 0)
ta2[[6]] <- update(ta2[[2]], subset = sf3$bigsmall == 0)
etable(ta2, dict = dict1,
title = 'Linear probability model estimation of DW borrowing probability. Column (1-2) is the pooled sample with and without controls, column (3-4) is for large banks that have assets greater than $600M, and columns (5-6) is for small community banks. The results from column (2) implies that a 10 percentage point increase in the PPP quantity loaned as a share of the reserves increases probability to borrow from the discount window by 1.6 percentage points. There seems to be a greater effect for large banks when shocked as compared to small banks.',
label = 'main_reg',
headers = NA,
digits = 4,
fitstat = ~n + r2,
#group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores','CI','C&I','COVID','Assets','OFFICES','age','Tier')),
extralines = list('Pooled','Pooled','Large Banks', 'Large Banks','Small Banks','Small Banks'),
tex = T)
etable(ta2, dict = dict1,
title = 'Linear probability model estimation of DW borrowing probability. Column (1-2) is the pooled sample with and without controls, column (3-4) is for large banks that have assets greater than $600M, and columns (5-6) is for small community banks. The results from column (2) implies that a 10 percentage point increase in the PPP quantity loaned as a share of the reserves increases probability to borrow from the discount window by 1.6 percentage points. There seems to be a greater effect for large banks when shocked as compared to small banks.',
label = 'main_reg',
headers = NA,
digits = 4,
fitstat = ~n + r2,
#group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores','CI','C&I','COVID','Assets','OFFICES','age','Tier')),
extralines = list('Pooled','Pooled','Large Banks', 'Large Banks','Small Banks','Small Banks'),
tex = F)
ta[[1]] <- feols(dwsores ~ pppsores|FED + Date,
sf3,
#subset = sf3$PPP>0 & sf3$DW > 0
panel.id = c('RSSD','Date'))
ta[[2]] <- update(ta[[1]], . ~ .
+ LF_30 + precovdw + log(OFFICES) + rsa + eqcaprat + eci +  ci_com + scisoa + cdep + cisoa + liqass + levrat + size +log(dwage) + covexpo)
ta[[3]] <- update(ta[[1]], subset =  sf3$bigsmall == 1)
ta[[4]] <- update(ta[[2]], subset =  sf3$bigsmall == 1)
ta[[5]] <- update(ta[[1]], subset =  sf3$bigsmall == 0)
ta[[6]] <- update(ta[[2]], subset =  sf3$bigsmall == 0)
etable(ta, dict = dict1,
title = 'OLS Estimation of Log DW Borrowing. Columns correspond to the same shares as Table 1. ',
label = 'main_reg',
headers = NA,
digits = 5,
fitstat = ~n + r2,
group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores','CI','C&I','COVID','Assets','OFFICES','age','Tier')),
#extralines = list('Pooled','Pooled','Large Banks', 'Large Banks','Small Banks','Small Banks'),
tex = F)
ta7 <- list()
ta7[[1]] <- feglm(dwbin_notest ~ pppsores| FED + Date,
family = binomial(link = "logit"),
data = sf3, panel.id = c('RSSD','Date'))
ta7[[2]] <- update(ta7[[1]], . ~.
+ LF_30 + precovdw + log(OFFICES) + rsa + eqcaprat + eci +  ci_com + scisoa + cdep + cisoa + liqass + levrat + size +log(dwage) + covexpo)
ta7[[3]] <- update(ta7[[1]], subset = sf3$bigsmall == 1)
ta7[[4]] <- update(ta7[[2]], subset = sf3$bigsmall == 1)
ta7[[5]] <- update(ta7[[1]], subset = sf3$bigsmall == 0)
ta7[[6]] <- update(ta7[[2]], subset = sf3$bigsmall == 0)
etable(ta7, dict = dict1,
title = 'Logistic Estimation of borrowing probability from the discount window. Column (1-2) is the pooled sample with and without controls, column (3-4) is for large banks that have assets greater than $600M, and columns (5-6) is for small community banks. The results from column (2) implies that a 10 percentage point increase in the PPP quantity loaned increases probability to borrow from the discount window by 28.1%. Since the predicted mean is 1.9% to borrow from the window, a 28.1% increase imples an increase of .53 percentage points.',
label = 'main_reg',
headers = NA,
fitstat = ~n + pr2,
group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores','CI','C&I','COVID','Assets','OFFICES','age','Tier')),
extralines = list('Pooled','Pooled','Large Banks', 'Large Banks','Small Banks','Small Banks'),
tex = F)
ta6 <- list()
ta6[[1]] <- update(ta[[2]], .~. - pppsores | . | pppsores ~ asinh(c_instr) )
ta6[[2]] <- update(ta6[[1]], subset = sf3$bigsmall == 1)
ta6[[3]] <- update(ta6[[1]], subset = sf3$bigsmall == 0)
ta6[[4]] <- update(ta2[[2]], .~. - pppsores | . | pppsores ~  asinh(c_instr) )
ta6[[5]] <- update(ta6[[4]], subset = sf3$bigsmall == 1)
ta6[[6]] <- update(ta6[[4]], subset = sf3$bigsmall == 0)
etable(ta6, dict = dict1,
title = 'OLS Estimation of Log DW Borrowing',
label = 'main_reg',
headers = c('Pooled', 'Large Banks','Small Banks'),
fitstat = ~ n + ivf + wh,
#group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores')),
tex = T)
etable(ta6, dict = dict1,
title = 'OLS Estimation of Log DW Borrowing',
label = 'main_reg',
headers = c('Pooled', 'Large Banks','Small Banks'),
fitstat = ~ n + ivf + wh,
#group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores')),
tex = F)
ta6 <- list()
ta6[[1]] <- update(ta[[2]], .~. - pppsores | RSSD+ Date | pppsores ~ asinh(c_instr) )
ta6[[2]] <- update(ta6[[1]], subset = sf3$bigsmall == 1)
ta6[[3]] <- update(ta6[[1]], subset = sf3$bigsmall == 0)
ta6[[4]] <- update(ta2[[2]], .~. - pppsores | . | pppsores ~  asinh(c_instr) )
ta6[[5]] <- update(ta6[[4]], subset = sf3$bigsmall == 1)
ta6[[6]] <- update(ta6[[4]], subset = sf3$bigsmall == 0)
etable(ta6, dict = dict1,
title = 'OLS Estimation of Log DW Borrowing',
label = 'main_reg',
headers = c('Pooled', 'Large Banks','Small Banks'),
fitstat = ~ n + ivf + wh,
#group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores')),
tex = F)
stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex') #summary statistic
stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits = 4) #summary statistic
stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits.extra = 4) #summary statistic
descr(sf3$dwsores)
descr(sf3$dwsores)
class(sf3$dwsores)
star <- stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits.extra = 1, digits = 1) #summary statistic
star
star <- gsub("& ([0-9]+) ", "& \\1\\.0 ", star)
star
star <- stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits.extra = 3, digits = 3) #summary statistic
star <- stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits.extra = 3, digits = 3,
initial.zero = FALSE) #summary statistic
star <- stargazer(sf3[,list],
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits.extra = 3, digits = 3) #summary statistic
data.frame(sf3[,list])
star <- stargazer(as.data.frame.numeric(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits.extra = 3, digits = 3) #summary statistic
as.data.frame.numeric(sf3[,list])
as.numeric(data.frame(sf3[,list]))
data.frame(sf3[,list])
class(data.frame(sf3[,list]))
class(data.frame(sf3[,list])[,])
class(data.frame(sf3[,list])[,1])
class(data.frame(sf3[,list])[,2])
class(data.frame(sf3[,list])[,3])
class(data.frame(sf3[,list])[,4])
class(data.frame(sf3[,list])[,5])
class(data.frame(sf3[,list])[,6])
stargazer(data.frame(sf3[,'dwsores']))
stargazer(data.frame(sf3[,'dwsores']*100))
stargazer(data.frame(sf3[,'dwsores']),digts = 6)
stargazer(data.frame(sf3[,'dwsores']),digits = 6)
stargazer(data.frame(sf3[,'dwsores']),digits = 4)
stargazer(data.frame(sf3[,'dwsores']),digits = 3)
stargazer(data.frame(sf3[,'dwsores']),digits = 4)
sf3$precovdw
descr(sf3$precovdw)
list <- c('dwsores','pppsores','LF_30','OFFICES','rsa','eqcaprat','eci','ci_com','scisoa','cdep','cisoa','liqass','levrat','size','dwage')
star <- stargazer(as.data.frame.numeric(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits.extra = 3, digits = 3) #summary statistic
star <- stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits.extra = 3, digits = 3) #summary statistic
list <- c('dwsores','pppsores','LF_30','rsa','eqcaprat','eci','ci_com','scisoa','cdep','cisoa','liqass','levrat','size','dwage')
star <- stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits.extra = 3, digits = 3) #summary statistic
list <- c('dwsores','pppsores','LF_30','rsa','eqcaprat','eci','ci_com','scisoa','cdep','cisoa','liqass','levrat')
star <- stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits.extra = 3, digits = 3) #summary statistic
list <- c('dwsores','pppsores','LF_30','rsa','eqcaprat','ci_com','scisoa','cdep','cisoa','liqass','levrat')
star <- stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits.extra = 3, digits = 3) #summary statistic
list <- c('dwsores','pppsores','rsa','eqcaprat','ci_com','scisoa','cdep','cisoa','liqass','levrat')
star <- stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits.extra = 3, digits = 3) #summary statistic
star <- stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', '# of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits = 4) #summary statistic
list <- c('dwsores','pppsores','LF_30','precovdw','OFFICES','rsa','eqcaprat','eci','ci_com','scisoa','cdep','cisoa','liqass','levrat','size','dwage','covexpo')
star <- stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', 'Number of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
digits = 4) #summary statistic
star <- stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', 'Number of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex',
extra.digits = 3) #summary statistic
star <- stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', 'Number of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'aer',
type = 'latex')
star <- stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', 'Number of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = NA,
type = 'latex')
star <- stargazer(data.frame(sf3[,list]),
title = 'Summary Statistics Table',
covariate.labels = c('DW/Reserves','PPP/Reserves','Borrowing from LF in last 30 Days/Reserves','Whether bank has borrowed from DW in last 5 years', 'Number of Offices','Reserve/Asset Ratio',
'Equity Capital Ratio','Branch Economic Exposure','Unused CI Commitments','Small Business share of CI','Core Deposits','CI/Assets','Liquid Assets','T1 Leverage Ratio',
'Log Assets','Branch weighted bank age','COVID Exposure'),
style = 'qje',
type = 'latex')
sf2$OFFICES <- ifelse(sf2$OFFICES == 0,1,sf2$OFFICES)
descr(sf3$LF_30)
descr(sf3$pppsores)
max(sf3$dwsores)
max(sf3$pppsores)
ta2[[1]] <- feols(dwbin_notest ~ i(LF_i,pppsores)| FED + Date,
#family = binomial(link = "logit"),
data = sf3, panel.id = c('RSSD','Date'))
ta2[[2]] <- update(ta2[[1]], . ~.
+ LF_30 + precovdw + log(OFFICES) + rsa + eqcaprat + eci +  ci_com + scisoa + cdep + cisoa + liqass + levrat + size +log(dwage) + covexpo)
ta2[[3]] <- update(ta2[[1]], subset = sf3$bigsmall == 1)
ta2[[4]] <- update(ta2[[2]], subset = sf3$bigsmall == 1)
ta2[[5]] <- update(ta2[[1]], subset = sf3$bigsmall == 0)
ta2[[6]] <- update(ta2[[2]], subset = sf3$bigsmall == 0)
etable(ta2, dict = dict1,
title = 'Linear probability model estimation of DW borrowing probability. Column (1-2) is the pooled sample with and without controls, column (3-4) is for large banks that have assets greater than $600M, and columns (5-6) is for small community banks. The results from column (2) implies that a 10 percentage point increase in the PPP quantity loaned as a share of the reserves increases probability to borrow from the discount window by 1.6 percentage points. There seems to be a greater effect for large banks when shocked as compared to small banks.',
label = 'main_reg',
headers = NA,
digits = 4,
fitstat = ~n + r2,
#group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores','CI','C&I','COVID','Assets','OFFICES','age','Tier')),
extralines = list('Pooled','Pooled','Large Banks', 'Large Banks','Small Banks','Small Banks'),
tex = F)
sf3$PPPLF_i
ta2[[1]] <- feols(dwbin_notest ~ i(PPPLF_i,pppsores)| FED + Date,
#family = binomial(link = "logit"),
data = sf3, panel.id = c('RSSD','Date'))
ta2[[2]] <- update(ta2[[1]], . ~.
+ LF_30 + precovdw + log(OFFICES) + rsa + eqcaprat + eci +  ci_com + scisoa + cdep + cisoa + liqass + levrat + size +log(dwage) + covexpo)
ta2[[3]] <- update(ta2[[1]], subset = sf3$bigsmall == 1)
ta2[[4]] <- update(ta2[[2]], subset = sf3$bigsmall == 1)
ta2[[5]] <- update(ta2[[1]], subset = sf3$bigsmall == 0)
ta2[[6]] <- update(ta2[[2]], subset = sf3$bigsmall == 0)
etable(ta2, dict = dict1,
title = 'Linear probability model estimation of DW borrowing probability. Column (1-2) is the pooled sample with and without controls, column (3-4) is for large banks that have assets greater than $600M, and columns (5-6) is for small community banks. The results from column (2) implies that a 10 percentage point increase in the PPP quantity loaned as a share of the reserves increases probability to borrow from the discount window by 1.6 percentage points. There seems to be a greater effect for large banks when shocked as compared to small banks.',
label = 'main_reg',
headers = NA,
digits = 4,
fitstat = ~n + r2,
#group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores','CI','C&I','COVID','Assets','OFFICES','age','Tier')),
extralines = list('Pooled','Pooled','Large Banks', 'Large Banks','Small Banks','Small Banks'),
tex = F)
ta7[[1]] <- feglm(dwbin_notest ~ i(PPPLF_i,pppsores)| FED + Date,
family = binomial(link = "logit"),
data = sf3, panel.id = c('RSSD','Date'))
ta7[[2]] <- update(ta7[[1]], . ~.
+ LF_30 + precovdw + log(OFFICES) + rsa + eqcaprat + eci +  ci_com + scisoa + cdep + cisoa + liqass + levrat + size +log(dwage) + covexpo)
ta7[[3]] <- update(ta7[[1]], subset = sf3$bigsmall == 1)
ta7[[4]] <- update(ta7[[2]], subset = sf3$bigsmall == 1)
ta7[[5]] <- update(ta7[[1]], subset = sf3$bigsmall == 0)
ta7[[6]] <- update(ta7[[2]], subset = sf3$bigsmall == 0)
etable(ta7, dict = dict1,
title = 'Logistic Estimation of borrowing probability from the discount window. Column (1-2) is the pooled sample with and without controls, column (3-4) is for large banks that have assets greater than $600M, and columns (5-6) is for small community banks. The results from column (2) implies that a 10 percentage point increase in the PPP quantity loaned increases probability to borrow from the discount window by 28.1%. Since the predicted mean is 1.9% to borrow from the window, a 28.1% increase imples an increase of .53 percentage points.',
label = 'main_reg',
headers = NA,
fitstat = ~n + pr2,
group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores','CI','C&I','COVID','Assets','OFFICES','age','Tier')),
extralines = list('Pooled','Pooled','Large Banks', 'Large Banks','Small Banks','Small Banks'),
tex = F)
ta6[[4]] <- update(ta2[[2]], .~. - i(PPPLF_i,pppsores) | . | i(PPPLF_i,pppsores) ~  i(PPPLF_i,asinh(c_instr)) )
ta6[[5]] <- update(ta6[[4]], subset = sf3$bigsmall == 1)
ta6[[6]] <- update(ta6[[4]], subset = sf3$bigsmall == 0)
etable(ta6, dict = dict1,
title = 'OLS Estimation of Log DW Borrowing',
label = 'main_reg',
headers = c('Pooled', 'Large Banks','Small Banks'),
fitstat = ~ n + ivf + wh,
#group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores')),
tex = F)
ta2[[1]] <- feols(dwbin_notest ~ pppsores| FED + Date,
#family = binomial(link = "logit"),
data = sf3, panel.id = c('RSSD','Date'))
ta2[[2]] <- update(ta2[[1]], . ~.
+ LF_30 + precovdw + log(OFFICES) + rsa + eqcaprat + eci +  ci_com + scisoa + cdep + cisoa + liqass + levrat + size +log(dwage) + covexpo)
ta[[1]] <- feols(dwsores ~ pppsores|FED + Date,
sf3,
#subset = sf3$PPP>0 & sf3$DW > 0
panel.id = c('RSSD','Date'))
ta[[2]] <- update(ta[[1]], . ~ .
+ LF_30 + precovdw + log(OFFICES) + rsa + eqcaprat + eci +  ci_com + scisoa + cdep + cisoa + liqass + levrat + size +log(dwage) + covexpo)
# Table 4: interacting with PPPLF_i
ta7 <- list()
ta7[[1]] <- update(ta[[2]], .~. - pppsores | FED + Date | i(PPPLF_i,pppsores) ~ i(PPPLF_i,asinh(c_instr)))
ta7[[2]] <- update(ta7[[1]], subset = sf3$bigsmall == 1)
ta7[[3]] <- update(ta7[[1]], subset = sf3$bigsmall == 0)
ta7[[4]] <- update(ta2[[2]], .~. - pppsores | . | i(PPPLF_i,pppsores) ~  i(PPPLF_i,asinh(c_instr)))
ta7[[5]] <- update(ta7[[4]], subset = sf3$bigsmall == 1)
ta7[[6]] <- update(ta7[[4]], subset = sf3$bigsmall == 0)
etable(ta7, dict = dict1,
title = 'OLS Estimation of Log DW Borrowing',
label = 'main_reg',
headers = c('Pooled', 'Large Banks','Small Banks'),
fitstat = ~ n + ivf + wh,
#group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores')),
tex = F)
sft <- subset(sf3, dwsores > 0.0 & pppsores > 0.00)
ta7[[1]] <- update(ta[[2]], .~. - pppsores | FED + Date | i(PPPLF_i,pppsores) ~ i(PPPLF_i,asinh(c_instr)), data = sft)
ta7[[2]] <- update(ta7[[1]], subset = sf3$bigsmall == 1)
ta7[[3]] <- update(ta7[[1]], subset = sf3$bigsmall == 0)
ta7[[2]] <- update(ta7[[1]], subset = sft$bigsmall == 1)
ta7[[3]] <- update(ta7[[1]], subset = sft$bigsmall == 0)
ta7[[4]] <- update(ta2[[2]], .~. - pppsores | . | i(PPPLF_i,pppsores) ~  i(PPPLF_i,asinh(c_instr)))
ta7[[5]] <- update(ta7[[4]], subset = sf3$bigsmall == 1)
ta7[[6]] <- update(ta7[[4]], subset = sf3$bigsmall == 0)
etable(ta7, dict = dict1,
title = 'OLS Estimation of Log DW Borrowing',
label = 'main_reg',
headers = c('Pooled', 'Large Banks','Small Banks'),
fitstat = ~ n + ivf + wh,
#group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores')),
tex = F)
ta7 <- list()
ta7[[1]] <- update(ta[[2]], .~. - pppsores | FED + Date | i(PPPLF_i,pppsores) ~ i(PPPLF_i,asinh(c_instr)), data = sf3)
ta7[[2]] <- update(ta7[[1]], subset = sf3$bigsmall == 1)
ta7[[3]] <- update(ta7[[1]], subset = sf3$bigsmall == 0)
ta7[[4]] <- update(ta2[[2]], .~. - pppsores | . | i(PPPLF_i,pppsores) ~  i(PPPLF_i,asinh(c_instr)))
ta7[[5]] <- update(ta7[[4]], subset = sf3$bigsmall == 1)
ta7[[6]] <- update(ta7[[4]], subset = sf3$bigsmall == 0)
etable(ta7, dict = dict1,
title = 'OLS Estimation of Log DW Borrowing',
label = 'main_reg',
headers = c('Pooled', 'Large Banks','Small Banks'),
fitstat = ~ n + ivf + wh,
#group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores')),
tex = F)
etable(ta7, dict = dict1,
title = 'OLS Estimation of Log DW Borrowing',
label = 'main_reg',
headers = c('Pooled', 'Large Banks','Small Banks'),
fitstat = ~ n + ivf + wh,
group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores','CI','C&I','COVID','Assets','OFFICES','age','Tier')),
tex = F)
etable(tar, dict = dict1,
title = 'Robustness using different versions of fixed effect on the pooled sample.',
label = 'main_reg',
headers = NA,
digits = 5,
fitstat = ~n + r2 + ivf ,
group = list('Controls:'=c('Offices','Ratio','Impact',
'lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores','CI','C&I','COVID','Assets','OFFICES','age','Tier')),
#extralines = list('Pooled','Pooled','Large Banks', 'Large Banks','Small Banks','Small Banks'),
tex = T)
etable(ta7, dict = dict1,
title = 'OLS Estimation of Log DW Borrowing',
label = 'main_reg',
headers = c('Pooled', 'Large Banks','Small Banks'),
fitstat = ~ n + ivf + wh,
group = list('Controls:'=c('Offices','Ratio','Impact',
'lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores','CI','C&I','COVID','Assets','OFFICES','age','Tier')),
tex = F)
ta6[[1]] <- update(ta[[2]], .~. - pppsores | FED + Date | pppsores ~ asinh(c_instr), subset= sf3$DW >0 )
ta6[[2]] <- update(ta6[[1]], subset =  sf3$DW >0 & sf3$bigsmall == 1)
ta6[[3]] <- update(ta6[[1]], subset =  sf3$DW >0 & sf3$bigsmall == 0)
etable(ta6, dict = dict1,
title = 'OLS Estimation of Log DW Borrowing',
label = 'main_reg',
headers = c('Pooled', 'Large Banks','Small Banks'),
fitstat = ~ n + ivf + wh,
#group = list('Controls:'=c('lsa','rsa','dsa','Equity Cap Ratio','Log Assets','Log RA Ratio','econexpo','COVID Exposure','eci','npplsores')),
tex = F)
